<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zebone.dip.doc.dao.DocMapper" >
  <resultMap id="DocConfMap" type="com.zebone.dip.doc.vo.DocXml" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 25 14:45:52 CST 2013.
    -->
    <id column="ID_" property="id" jdbcType="VARCHAR" />
    <result column="DOC_NAME" property="docName" jdbcType="VARCHAR" />
    <result column="DOC_DESC" property="docDesc" jdbcType="VARCHAR" />
    <result column="DOC_VERSION" property="docVersion" jdbcType="VARCHAR" />
    <result column="VERSION_NAME" property="versionName" jdbcType="VARCHAR" />
    <result column="DOC_TYPE" property="docType" jdbcType="VARCHAR" />
    <result column="DOC_XML" property="docXml" jdbcType="CLOB" javaType="string"/>
    <result column="IS_DELETED" property="isDeleted" jdbcType="VARCHAR" />
    <result column="CREATE_TIME" property="createTime" jdbcType="VARCHAR" />
    <result column="DOC_TYPE_CODE" property="docTypeCode" jdbcType="VARCHAR" />
    <result column="XML_SAMPLE" property="xmlSample" jdbcType="CLOB" javaType="string"/>
  </resultMap>
  <sql id="DocConfList" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 25 14:45:52 CST 2013.
    -->
    ID_, DOC_NAME, DOC_DESC, DOC_VERSION, VERSION_NAME, DOC_TYPE,CREATE_TIME,DOC_TYPE_CODE
  </sql>
  
  
  <select id="getDocConfById" parameterType="java.lang.String" resultMap="DocConfMap">
  	SELECT 
	T.ID_,T.DOC_XML,T.DOC_NAME,T.DOC_VERSION,T.DOC_TYPE_CODE,T.XML_SAMPLE
	FROM P_DOC_CONF T 
	WHERE T.ID_ = #{id,jdbcType=VARCHAR} AND T.IS_DELETED = 0
  </select>
  
  <select id="getFieldType" parameterType="java.lang.String" resultMap="DocConfMap">
  	SELECT 
	T.ID_,T.DOC_XML,T.DOC_NAME,T.DOC_VERSION,T.DOC_TYPE_CODE
	FROM P_DOC_CONF T 
	WHERE T.ID_ = #{id,jdbcType=VARCHAR} AND T.IS_DELETED = 0
  </select>
  
  <update id="updateDocSampleXml" parameterType="com.zebone.dip.doc.vo.DocXml">
		update P_DOC_CONF
		<set>
			<if test="xmlSample != null">
				xml_sample= #{xmlSample, jdbcType=CLOB},
			</if>
		</set>
		where id_ = #{id,jdbcType=VARCHAR}
	</update>

  
</mapper>